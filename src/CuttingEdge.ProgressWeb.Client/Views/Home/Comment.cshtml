@{
    ViewData["Title"] = "React Demo";
}

@*
    <div id="content">
        <div class="text-center">
            <i class="fa fa-spinner fa-spin fa-5x fa-fw"></i>
            <span class="sr-only">Loading...</span>
        </div>
    </div>
*@

@Html.React("CommentBox", new { url = JsonHelper.GetServiceUrl("comment"), pollInterval = 1000, initialData = await JsonHelper.GetAsync<List<Comment>>("comment") })

@section scripts{
    <script src="~/js/components/commentBox.jsx"></script>
@*
    <script>
        ReactDOM.render(React.createElement(CommentBox, { url: "@($"{Configuration["AppServer:Url"]}/api/comment")", pollInterval: 1000 }),
            document.getElementById("content")
        )
    </script>
*@
    @Html.ReactInitJavaScript()
}
